"use strict";(self.webpackChunkphyphox_front=self.webpackChunkphyphox_front||[]).push([[247],{5590:function(e,n,t){t.d(n,{Z:function(){return m}});var i=t(2982),a=t(1413),l=t(885),o=t(2791),r=t(1087),s=t(2022),c=t(4335),d=t(2918),u=t(184),f=function(e){var n=(0,o.useContext)(d.gd).isUserAuthentificated,t=(0,o.useState)(!1),i=(0,l.Z)(t,2),a=i[0],s=i[1];return(0,u.jsxs)("li",{className:"file-list__item"+(a?" file-list__item--deleting":""),"data-filename":e.item.filename,children:[(0,u.jsx)("span",{children:e.item.id}),(0,u.jsx)("br",{}),(0,u.jsx)(r.rU,{className:"file-list__link"+(a?" file-list__link--disabled":""),"aria-disabled":a,to:e.actionURL+e.item.id,children:e.actionName}),e.isDuplicable?(0,u.jsx)("a",{className:"file-list__link"+(a?" file-list__link--disabled":""),onClick:e.isDuplicable,href:"https://"+window.location.hostname+"/api/"+e.collection+"/"+e.item.filename,children:"Duplicate"}):null,e.isDownloadable?(0,u.jsxs)("a",{className:"file-list__link"+(a?" file-list__link--disabled":""),href:e.downloadURL,target:"_blank",rel:"noreferrer","aria-disabled":a,download:!0,children:["download (json file, ",Math.round(e.item.filesize/1024)," KB)"]}):null,n?(0,u.jsx)("a",{className:"file-list__link"+(a?" file-list__link--disabled":""),target:"_blank",rel:"noreferrer",onClick:function(n){n.preventDefault(),e.deleteItem(n),s(!0)},href:"https://"+window.location.hostname+"/api/"+e.collection+"/"+e.item.filename,children:"delete"}):null]})};var m=function(e){var n=(0,o.useState)({error:null,isLoaded:!1,items:[]}),t=(0,l.Z)(n,2),r=t[0],d=t[1],m=function(e){e.preventDefault();var n=e.currentTarget.href;fetch(n,{credentials:"include",method:"POST"}).then((function(e){return e.json()})).then((function(e){e.hasOwnProperty("error")||d((0,a.Z)((0,a.Z)({},r),{},{items:e}))}))},h=function(e){var n=e.currentTarget.href,t=e.currentTarget.closest(".file-list__item");fetch(n,{credentials:"include",method:"DELETE"}).then((function(e){return e.json()})).then((function(e){if(!e.hasOwnProperty("error")){var n=(0,i.Z)(r.items);d((0,a.Z)((0,a.Z)({},r),{},{items:n.filter((function(e){return e.filename!==t.dataset.filename}))}))}}))};return(0,o.useEffect)((function(){r.isLoaded||fetch("https://"+window.location.hostname+"/api/"+e.collection,{method:"GET"}).then((function(e){return e.json()})).then((function(e){e.hasOwnProperty("error")?d((0,a.Z)((0,a.Z)({},r),{},{error:e.error,isLoaded:!0})):d((0,a.Z)((0,a.Z)({},r),{},{items:e,isLoaded:!0}))}),(function(e){d((0,a.Z)((0,a.Z)({},r),{},{isLoaded:!0,error:e}))}))}),[e.collection,r]),r.error?(0,u.jsx)(s.Z,{type:"error",message:r.error}):r.isLoaded?r.items.length?(0,u.jsx)("ul",{className:"file-list",children:r.items.map((function(n){return(0,u.jsx)(f,{isDownloadable:e.isDownloadable,isDuplicable:!!e.optionDuplicate&&m,downloadURL:"https://"+window.location.hostname+"/api/"+e.collection+"/"+n.filename,item:n,collection:e.collection,actionName:e.actionName,actionURL:e.actionURL,deleteItem:h},n.filename)}))}):(0,u.jsx)("p",{children:"Nothing yet."}):(0,u.jsx)(c.Z,{})}},2022:function(e,n,t){t.d(n,{Z:function(){return a}});t(2791);var i=t(184),a=function(e){return(0,i.jsx)("p",{className:"message message--"+(e.type?e.type:"info"),children:e.message})}},6246:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(184),a=function(e){return(0,i.jsx)("div",{className:"spacer"+(e.size?"--"+e.size:"")})}},5102:function(e,n,t){t.d(n,{D:function(){return r},H:function(){return o}});var i=t(2791),a=t(2918),l=t(184),o=function(e){return(0,l.jsxs)("div",{className:"title",children:[(0,l.jsxs)("p",{className:"title__header",children:[e.header,e.icon?(0,l.jsx)("span",{className:"title__icon",children:e.icon}):null,e.image?(0,l.jsx)("img",{className:"title__image",alt:"",src:e.image}):null]}),(0,l.jsx)("h1",{className:"title__content",children:e.content})]})},r=function(e){var n=(0,i.useContext)(a.zX).isAppListening;return document.title=(n?"\ud83d\udfe9":"\ud83d\udfe7")+" phyphox, "+e.content,(0,l.jsx)(o,{header:e.header,content:e.content,image:e.image,icon:e.icon})}},3247:function(e,n,t){t.r(n);var i=t(2791),a=t(5102),l=t(6246),o=t(5590),r=t(2687),s=t(2918),c=t(184);n.default=function(){var e=(0,i.useContext)(s.zX).isAppListening;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.D,{header:"Hello Admin, what do you want to do ?",content:"Management space"}),(0,c.jsx)(l.Z,{size:"small"}),(0,c.jsxs)("p",{children:["Current state : the application is ",e?"on \ud83d\udc35":"off \ud83d\ude48","."]}),e?(0,c.jsx)(r.Al,{}):(0,c.jsx)(r.J8,{replace:!0,to:"/administration/create_configuration",type:"important",text:"Create new configuration"}),(0,c.jsx)(l.Z,{}),(0,c.jsx)("h2",{children:"Create a visualization from a past configuration :"}),(0,c.jsx)(o.Z,{collection:"configurations",actionName:"Edit",actionURL:"/administration/edit_configuration/",optionDuplicate:!0})]})}}}]);
//# sourceMappingURL=247.bb862952.chunk.js.map