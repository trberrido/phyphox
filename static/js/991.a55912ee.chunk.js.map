{"version":3,"file":"static/js/991.a55912ee.chunk.js","mappings":"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","sources":["components/list.jsx","components/message.jsx","components/spacer.jsx","components/title.jsx","pages/administration.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\n\nimport Message from './message.jsx';\nimport Loader from './loader.jsx';\n\nimport { AuthentificationContext, AppStateContext } from '../context.jsx';\n\nimport './list.css';\n\nconst ListItem = (props) => {\n\tconst isAuthentificated = useContext(AuthentificationContext).isUserAuthentificated;\n\n\tconst [isDisabled, setIsDisabled] = useState(false);\n\n\tconst handleClick = (e) => {\n\t\te.preventDefault();\n\t\tprops.deleteItem(e);\n\t\tsetIsDisabled(true);\n\t}\n\n\treturn (\n\t\t<li\n\t\t\tclassName={'file-list__item' + (isDisabled ? ' file-list__item--deleting' : '')}\n\t\t\tdata-filename={props.item.filename}\n\t\t>\n\t\t\t<span>{props.item.title}</span><br />\n\n\t\t\t<Link\n\t\t\t\tclassName={'file-list__link' + (isDisabled ? ' file-list__link--disabled' : '')}\n\t\t\t\taria-disabled={isDisabled}\n\t\t\t\tto={props.actionURL + props.item.id}\n\t\t\t>\n\t\t\t\t{props.actionName}\n\t\t\t</Link>\n\n\t\t\t{\n\t\t\t\tprops.isRunnable ?\n\t\t\t\t<a\n\t\t\t\t\tonClick={props.isRunnable}\n\t\t\t\t\tdata-filename={props.item.filename}\n\t\t\t\t\tclassName={'file-list__link' + (isDisabled ? ' file-list__link--disabled' : '')}\n\t\t\t\t\thref={window.API + '/api/' + props.collection + '/' + props.item.filename }\n\t\t\t\t>\n\t\t\t\t\tRun\n\t\t\t\t</a>\n\t\t\t\t: null\n\t\t\t}\n\n\t\t\t{props.isDuplicable ?\n\t\t\t\t<a\n\t\t\t\t\tclassName={'file-list__link' + (isDisabled ? ' file-list__link--disabled' : '')}\n\t\t\t\t\tonClick={props.isDuplicable}\n\t\t\t\t\thref={window.API + '/api/' + props.collection + '/' + props.item.filename }\n\t\t\t\t>\n\t\t\t\t\tDuplicate\n\t\t\t\t</a>\n\t\t\t\t: null }\n\n\t\t\t{props.isDownloadable ?\n\t\t\t\t<a\n\t\t\t\t\tclassName={'file-list__link' + (isDisabled ? ' file-list__link--disabled' : '')}\n\t\t\t\t\thref={props.downloadURL}\n\t\t\t\t\ttarget='_blank' rel='noreferrer'\n\t\t\t\t\taria-disabled={isDisabled}\n\t\t\t\t\tdownload >\n\t\t\t\t\tdownload (json file, {Math.round(props.item.filesize / 1024)} KB)\n\t\t\t\t</a>\n\t\t\t\t: null }\n\n\t\t\t{isAuthentificated ?\n\t\t\t\t<a\n\t\t\t\t\tclassName={'file-list__link' + (isDisabled ? ' file-list__link--disabled' : '')}\n\t\t\t\t\ttarget='_blank' rel='noreferrer'\n\t\t\t\t\tonClick={handleClick}\n\t\t\t\t\thref={window.API + '/api/' + props.collection + '/' + props.item.filename}>\n\t\t\t\t\t\tdelete\n\t\t\t\t\t</a>\n\t\t\t\t: null}\n\t\t</li>\n\t);\n\n}\n\nfunction List(props) {\n\n\tconst navigate = useNavigate();\n\tconst setIsAppListening = useContext(AppStateContext).setIsAppListening;\n\n\tconst [list, setList] = useState({\n\t\terror: null,\n\t\tisLoaded: false,\n\t\titems: []\n\t});\n\n\tconst run = (e) => {\n\n\t\te.preventDefault();\n\t\tconst dateID = Date.now()\n\t\tconst configuration = e.currentTarget.dataset.filename;\n\t\tfetch(window.API + '/api/app/state.json', {\n\t\t\tmethod: 'PUT',\n\t\t\tcredentials: 'include',\n\t\t\tbody: JSON.stringify({isListening: true, currentConfiguration: configuration, startedAt: dateID})\n\t\t})\n\t\t.then((response) => response.json())\n\t\t.then((result) => {\n\t\t\tif (!result.hasOwnProperty('error')){\n\t\t\t\tsetIsAppListening(true);\n\t\t\t\tnavigate('/')\n\t\t\t} else {\n\t\t\t\tsetList({...list, error: result.error})\n\t\t\t}\n\t\t})\n\n\t}\n\n\tconst duplicateItem = (e) => {\n\n\t\te.preventDefault();\n\t\tconst URL = e.currentTarget.href;\n\t\tfetch(URL,\n\t\t\t{\n\t\t\t\tcredentials : 'include',\n\t\t\t\tmethod: 'POST'\n\t\t\t})\n\t\t\t.then((response) => response.json())\n\t\t\t.then((result) => {\n\t\t\t\tif (!result.hasOwnProperty('error')){\n\t\t\t\t\tconst newItemsList = structuredClone(list.items);\n\t\t\t\t\tnewItemsList.unshift(result)\n\t\t\t\t\tsetList({...list, items: newItemsList});\n\t\t\t\t} else {\n\t\t\t\t\tsetList({...list, error: result.error})\n\t\t\t\t}\n\t\t\t})\n\n\t}\n\n\tconst deleteItem = (e) => {\n\n\t\tconst deleteURL = e.currentTarget.href;\n\t\tconst item = e.currentTarget.closest('.file-list__item');\n\n\t\tfetch(deleteURL, {credentials: 'include', method: 'DELETE'})\n\t\t\t.then(response => response.json())\n\t\t\t.then((result) => {\n\t\t\t\tif (!result.hasOwnProperty('error')){\n\t\t\t\t\tconst copy = [...list.items];\n\t\t\t\t\tsetList({...list, items: copy.filter(listItem => listItem.filename !== item.dataset.filename)});\n\t\t\t\t}\n\t\t\t})\n\n\t}\n\n\tuseEffect(() => {\n\t\tif (!list.isLoaded){\n\t\t\tfetch(window.API + '/api/' + props.collection, {method: 'GET'})\n\t\t\t.then (res => res.json())\n\t\t\t.then (\n\t\t\t\t(result) => {\n\t\t\t\t\tif (result.hasOwnProperty('error')){\n\t\t\t\t\t\tsetList({...list, error: result.error, isLoaded: true})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetList({...list, items: result, isLoaded: true})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t(error) => {\n\t\t\t\t\tsetList({...list, isLoaded: true, error: error})\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}, [props.collection, list]);\n\n\tif (list.error){\n\t\treturn <Message type='error' message={list.error} />;\n\t} else if (!list.isLoaded){\n\t\treturn <Loader />;\n\t} else {\n\t\tif (list.items.length) {\n\t\t\treturn (\n\t\t\t\t<ul className='file-list'>\n\t\t\t\t\t{list.items.map(item => (\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tisDownloadable={props.isDownloadable}\n\t\t\t\t\t\t\tisDuplicable={props.optionDuplicate ? duplicateItem : false}\n\t\t\t\t\t\t\tisRunnable={props.optionRunnable ? run : false}\n\t\t\t\t\t\t\tdownloadURL={window.API + '/api/' + props.collection + '/' + item.filename}\n\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tcollection={props.collection}\n\t\t\t\t\t\t\tactionName={props.actionName}\n\t\t\t\t\t\t\tactionURL={props.actionURL}\n\t\t\t\t\t\t\tdeleteItem={deleteItem}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (<p>Nothing yet.</p>);\n\t\t}\n\t}\n}\n\nexport default List;","import React from 'react';\nimport './message.css';\n\nconst Message = (props) => {\n\treturn (\n\t\t<p className={\"message message--\" + (props.type ? props.type : 'info')}>{props.message}</p>\n\t)\n}\n\nexport default Message;","import './spacer.css';\n\nconst Spacer = (props) => {\n\treturn (\n\t\t<div className={'spacer' + (props.size ? ('--' + props.size) : '')}></div>\n\t);\n}\n\nexport default Spacer;","import React, { useContext } from 'react';\n\nimport './title.css';\n\nimport { AppStateContext } from '../context.jsx';\n\nconst TitleLight = (props) => {\n\t// made for 404 error page, unable to get context\n\treturn (\n\t\t<div className='title'>\n\t\t\t<p className='title__header'>\n\t\t\t\t{ props.header }\n\t\t\t\t{\n\t\t\t\t\tprops.icon ? \n\t\t\t\t\t<span className='title__icon'>\n\t\t\t\t\t\t{props.icon}\n\t\t\t\t\t</span>\n\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tprops.image ?\n\t\t\t\t\t<img className='title__image' alt='' src={props.image} />\n\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t</p>\n\t\t\t<h1 className='title__content'>{ props.content }</h1>\n\t\t</div>\n\t);\n}\n\nconst Title = (props) => {\n\n\tconst isAppListening = useContext(AppStateContext).isAppListening;\n\n\tdocument.title = (isAppListening ? 'üü©' : 'üüß') + ' phyphox, ' + props.content;\n\t\n\treturn (\n\t\t<TitleLight\n\t\t\theader={props.header}\n\t\t\tcontent={props.content}\n\t\t\timage={props.image}\n\t\t\ticon={props.icon} />\n\t)\n\t\n}\n\nexport {Title, TitleLight};","import React, { useContext } from 'react';\n\nimport {Title} from '../components/title.jsx';\nimport Spacer from '../components/spacer.jsx';\nimport List from '../components/list.jsx';\nimport { ButtonStopListening, LinkPrivate } from '../components/button.jsx';\nimport { AppStateContext } from '../context.jsx';\n\nconst PageAdministration = () => {\n\tconst isAppListening = useContext(AppStateContext).isAppListening;\n\treturn (\n\t\t<>\n\t\t\t<Title\n\t\t\t\theader='Hello Admin, what do you want to do ?'\n\t\t\t\tcontent='Management space'/>\n\n\t\t\t<Spacer size='small' />\n\n\t\t\t<p>Current state : the application is {isAppListening ? 'on üêµ' : 'off üôà'}.</p>\n\n\t\t\t{isAppListening ?\n\t\t\t\t<ButtonStopListening /> :\n\t\t\t\t<LinkPrivate replace to='/administration/create_configuration' type='important' text='Create new configuration'/>\n\t\t\t}\n\n\t\t\t<Spacer />\n\n\t\t\t<h2>Create a visualization from a past configuration :</h2>\n\n\t\t\t<List\n\t\t\t\tcollection='configurations'\n\t\t\t\tactionName='Edit'\n\t\t\t\tactionURL='/administration/edit_configuration/'\n\t\t\t\toptionRunnable={true}\n\t\t\t\toptionDuplicate={true}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default PageAdministration;"],"names":["ListItem","props","isAuthentificated","useContext","AuthentificationContext","isUserAuthentificated","isDisabled","setIsDisabled","useState","_jsxs","className","item","filename","children","_jsx","title","Link","to","actionURL","id","actionName","isRunnable","onClick","href","window","API","collection","isDuplicable","isDownloadable","downloadURL","target","rel","download","Math","round","filesize","e","preventDefault","deleteItem","navigate","useNavigate","setIsAppListening","AppStateContext","list","setList","error","isLoaded","items","run","dateID","Date","now","configuration","currentTarget","dataset","fetch","method","credentials","body","JSON","stringify","isListening","currentConfiguration","startedAt","then","response","json","result","hasOwnProperty","duplicateItem","URL","newItemsList","structuredClone","unshift","deleteURL","closest","copy","filter","listItem","useEffect","res","Message","type","message","length","map","optionDuplicate","optionRunnable","Loader","size","TitleLight","header","icon","image","alt","src","content","Title","isAppListening","document","PageAdministration","_Fragment","Spacer","ButtonStopListening","LinkPrivate","replace","text","List"],"sourceRoot":""}